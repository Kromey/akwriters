{% extends 'base.html' %}
{% load static from staticfiles %}

{% block title %}
Alaska Writers Events
{% endblock title %}

{% block header %}
Alaska Writers Events
{% endblock header %}

{% block content %}
<div class="calendar">
	<div class="calendar-controls">
		{% for gcal in gcals %}
		<div class="gcal-control {{ gcal.css_class }}" data-target="{{ gcal.css_class }}">
			{{ gcal.name }}
		</div>
		{% endfor %}
	</div>
	<div class="calendar-header">
		<div class="calendar-day">
			Sunday
		</div>
		<div class="calendar-day">
			Monday
		</div>
		<div class="calendar-day">
			Tuesday
		</div>
		<div class="calendar-day">
			Wednesday
		</div>
		<div class="calendar-day">
			Thursday
		</div>
		<div class="calendar-day">
			Friday
		</div>
		<div class="calendar-day">
			Saturday
		</div>
	</div>
	{% for week in calendar %}
	{% with firstweek=forloop.first %}
	<div class="calendar-week">
		{% for adate in week %}
		<div class="calendar-day{% if adate.date.month != today.date.month %} calendar-othermonth{% endif %}">
			<div class="day-label">
				{% if adate.date.day == 1 or firstweek and forloop.first %}
				{{ adate.date|date:'F' }}
				{% endif %}
				{{ adate.date.day }}
			</div>
			{% for event in adate.events %}
			<div class="event {{ event.css_class }}"><span class="label">{{ event.summary }}</span></div>
			{% endfor %}
		</div>
		{% endfor %}
	</div>
	{% endwith %}
	{% endfor %}
</div>
{% endblock content %}

{% block extrascripts %}
<script src="{% static 'js/events.js' %}"></script>
{% endblock %}
