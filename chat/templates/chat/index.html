{% extends 'base.html' %}
{% load static %}
{% load chat_extras %}

{% block header %}
Join Our Chat Server!
{% endblock header %}

{% block content %}
<ul class="inline-list">
	<li><a href="#" onclick="launchCandy();"><i class="fi-page-copy"></i> In-Browser Chat</a></li>
	<li><a href="{% url 'chat:pidgin' %}">Set Up Pidgin</a></li>
	<li><a href="{% url 'chat:adium' %}">Set Up Adium</a></li>
	<li><a href="{% url 'chat:annika' %}">Meet Annika</a></li>
</ul>
{% block chatcontent %}
<p>
To jump straight into the chat room, simply launch the In-Browser Chat app by
clicking on the link above. To log in, your username is
<em>{{ user.username|default:"username" }}@{% prosody_domain %}</em>.
</p>
<p>
You can also log into the chat server using any client that supports the
{% prosody_proto %} (aka "Jabber") protocol, such as Pidgin or Adium, with the
username and password you selected, and the domain <em>{% prosody_domain %}</em>.
If you choose to go this route, detailed setup instructions for our recommended
chat clients &mdash; Pidgin on Windows and Linux, or Adium on Mac &mdash; can be
found on the pages linked above. If you choose to use a different client, and it
doesn't ask for the "domain" separately, it probably expects to see your
username (aka ID, JID, etc.) in the form
<em>{{ user.username|default:"username" }}@{% prosody_domain %}</em>.
</p>
{% endblock chatcontent %}
<script type="text/javascript">
function launchCandy()
{
	newWin = window.open('{% url "chat:candy" %}', 'Candy', 'width=800,height=500');
	if(!newWin || newWin.closed || typeof newWin.closed=='undefined')
	{
		alert("Your browser has blocked the pop-up. Please allow pop-ups for this site.");
	}
}
</script>
{% endblock content %}
